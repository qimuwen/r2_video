name = "r2-video-proxy"
main = "src/index.js"
compatibility_date = "2024-01-01"
workers_dev = true

# R2 存储桶绑定
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "bluffer"  # 替换为你的 R2 存储桶名称
preview_bucket_name = "bluffer"

# 环境变量（也可以在 Dashboard 中设置）
[vars]
SECRET_KEY = "your-secret-key-change-this"  # 防盗链密钥，请修改
# ALLOWED_DOMAINS = "yourdomain.com,www.yourdomain.com"  # 可选：域名白名单

# 开发环境配置
[env.development]
name = "r2-video-proxy-dev"

# 生产环境配置
[env.production]
name = "r2-video-proxy"

# 路由配置（可选）
# routes = [
#   { pattern = "videos.yourdomain.com/*", zone_name = "yourdomain.com" }
# ]

# 部署触发器（可选）
# [triggers]
# crons = []

# 日志配置
[observability]
enabled = true

